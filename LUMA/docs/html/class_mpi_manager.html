<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LUMA: MpiManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lumalogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LUMA
   &#160;<span id="projectnumber">1.3.0-alpha</span>
   </div>
   <div id="projectbrief">2D/3D FSI lattice Boltzmann solver for CPU</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_mpi_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MpiManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MPI Manager class.  
 <a href="class_mpi_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_mpi_manager_8h_source.html">MpiManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mpi_manager_1_1buffer__struct.html">buffer_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure storing buffers sizes in each direction for particular grid.  <a href="struct_mpi_manager_1_1buffer__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mpi_manager_1_1layer__edges.html">layer_edges</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing global positions of the edges of halos.  <a href="struct_mpi_manager_1_1layer__edges.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mpi_manager_1_1phdf5__struct.html">phdf5_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for storing halo information for HDF5.  <a href="struct_mpi_manager_1_1phdf5__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02adaa06e139dfca2bc71e1a1dbf25c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a02adaa06e139dfca2bc71e1a1dbf25c7">mpi_init</a> ()</td></tr>
<tr class="memdesc:a02adaa06e139dfca2bc71e1a1dbf25c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation routine.  <a href="#a02adaa06e139dfca2bc71e1a1dbf25c7">More...</a><br /></td></tr>
<tr class="separator:a02adaa06e139dfca2bc71e1a1dbf25c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f07e85131147b55eec643c791ec2ba0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a7f07e85131147b55eec643c791ec2ba0">mpi_gridbuild</a> ()</td></tr>
<tr class="memdesc:a7f07e85131147b55eec643c791ec2ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Domain decomposition.  <a href="#a7f07e85131147b55eec643c791ec2ba0">More...</a><br /></td></tr>
<tr class="separator:a7f07e85131147b55eec643c791ec2ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749fa958cb7343183a69ca6191b45286"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a749fa958cb7343183a69ca6191b45286">mpi_buildCommunicators</a> ()</td></tr>
<tr class="memdesc:a749fa958cb7343183a69ca6191b45286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define writable sub-grid communicators.  <a href="#a749fa958cb7343183a69ca6191b45286">More...</a><br /></td></tr>
<tr class="separator:a749fa958cb7343183a69ca6191b45286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b33a4a24d9abf528528a296aa1d92d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ae1b33a4a24d9abf528528a296aa1d92d">mpi_buffer_pack</a> (int dir, <a class="el" href="class_grid_obj.html">GridObj</a> *g)</td></tr>
<tr class="memdesc:ae1b33a4a24d9abf528528a296aa1d92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to pack the communication buffer.  <a href="#ae1b33a4a24d9abf528528a296aa1d92d">More...</a><br /></td></tr>
<tr class="separator:ae1b33a4a24d9abf528528a296aa1d92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5e0511918b4ae6ec524d737618e341"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#abf5e0511918b4ae6ec524d737618e341">mpi_buffer_unpack</a> (int dir, <a class="el" href="class_grid_obj.html">GridObj</a> *g)</td></tr>
<tr class="memdesc:abf5e0511918b4ae6ec524d737618e341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to unpack the communication buffer.  <a href="#abf5e0511918b4ae6ec524d737618e341">More...</a><br /></td></tr>
<tr class="separator:abf5e0511918b4ae6ec524d737618e341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf713399e26a5ffbc03147e0a20c585"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a1bf713399e26a5ffbc03147e0a20c585">mpi_buffer_size</a> ()</td></tr>
<tr class="memdesc:a1bf713399e26a5ffbc03147e0a20c585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-calcualtion of the buffer sizes.  <a href="#a1bf713399e26a5ffbc03147e0a20c585">More...</a><br /></td></tr>
<tr class="separator:a1bf713399e26a5ffbc03147e0a20c585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26d2a0a2430f7c1b5def5f954a10f1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#af26d2a0a2430f7c1b5def5f954a10f1d">mpi_buffer_size_send</a> (<a class="el" href="class_grid_obj.html">GridObj</a> *&amp;g)</td></tr>
<tr class="memdesc:af26d2a0a2430f7c1b5def5f954a10f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to pre-compute the size of the sender layer buffer.  <a href="#af26d2a0a2430f7c1b5def5f954a10f1d">More...</a><br /></td></tr>
<tr class="separator:af26d2a0a2430f7c1b5def5f954a10f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7547c05583bf6c52ea48cc1dc13336"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#afa7547c05583bf6c52ea48cc1dc13336">mpi_buffer_size_recv</a> (<a class="el" href="class_grid_obj.html">GridObj</a> *&amp;g)</td></tr>
<tr class="memdesc:afa7547c05583bf6c52ea48cc1dc13336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to pre-compute the size of the receiver layer buffer.  <a href="#afa7547c05583bf6c52ea48cc1dc13336">More...</a><br /></td></tr>
<tr class="separator:afa7547c05583bf6c52ea48cc1dc13336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab498bdf0822e2747f83c187d682dd934"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ab498bdf0822e2747f83c187d682dd934">mpi_writeout_buf</a> (std::string filename, int dir)</td></tr>
<tr class="memdesc:ab498bdf0822e2747f83c187d682dd934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer ASCII writer.  <a href="#ab498bdf0822e2747f83c187d682dd934">More...</a><br /></td></tr>
<tr class="separator:ab498bdf0822e2747f83c187d682dd934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcf84c06fc3e0486fac61d09ce0a268"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#aedcf84c06fc3e0486fac61d09ce0a268">mpi_communicate</a> (int level, int regnum)</td></tr>
<tr class="memdesc:aedcf84c06fc3e0486fac61d09ce0a268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication routine.  <a href="#aedcf84c06fc3e0486fac61d09ce0a268">More...</a><br /></td></tr>
<tr class="separator:aedcf84c06fc3e0486fac61d09ce0a268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c10ab477c2e4387d6a02104f9b2a2ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a3c10ab477c2e4387d6a02104f9b2a2ea">mpi_getOpposite</a> (int direction)</td></tr>
<tr class="memdesc:a3c10ab477c2e4387d6a02104f9b2a2ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to find opposite direction in MPI topology.  <a href="#a3c10ab477c2e4387d6a02104f9b2a2ea">More...</a><br /></td></tr>
<tr class="separator:a3c10ab477c2e4387d6a02104f9b2a2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a486e424ae1b9dfa3218d260b0f9a0a2f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_mpi_manager.html">MpiManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a486e424ae1b9dfa3218d260b0f9a0a2f">getInstance</a> ()</td></tr>
<tr class="memdesc:a486e424ae1b9dfa3218d260b0f9a0a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance creator.  <a href="#a486e424ae1b9dfa3218d260b0f9a0a2f">More...</a><br /></td></tr>
<tr class="separator:a486e424ae1b9dfa3218d260b0f9a0a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b7914615ccb6e7b8a285f50860d503"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a03b7914615ccb6e7b8a285f50860d503">destroyInstance</a> ()</td></tr>
<tr class="memdesc:a03b7914615ccb6e7b8a285f50860d503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance destroyer.  <a href="#a03b7914615ccb6e7b8a285f50860d503">More...</a><br /></td></tr>
<tr class="separator:a03b7914615ccb6e7b8a285f50860d503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aec1ed834d1a8fa19f87499fb0d5cd332"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#aec1ed834d1a8fa19f87499fb0d5cd332">world_comm</a></td></tr>
<tr class="memdesc:aec1ed834d1a8fa19f87499fb0d5cd332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global MPI communicator.  <a href="#aec1ed834d1a8fa19f87499fb0d5cd332">More...</a><br /></td></tr>
<tr class="separator:aec1ed834d1a8fa19f87499fb0d5cd332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1f0a2aa10fbd01c0dc3fac50178a0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a3f1f0a2aa10fbd01c0dc3fac50178a0d">MPI_dims</a> [<a class="el" href="definitions_8h.html#a31d5945080ee5c34edc32e6f74c724c8">L_DIMS</a>]</td></tr>
<tr class="memdesc:a3f1f0a2aa10fbd01c0dc3fac50178a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of MPI Cartesian topology.  <a href="#a3f1f0a2aa10fbd01c0dc3fac50178a0d">More...</a><br /></td></tr>
<tr class="separator:a3f1f0a2aa10fbd01c0dc3fac50178a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2891954ff504c12ec6d5f845e906f28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#af2891954ff504c12ec6d5f845e906f28">neighbour_rank</a> [<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td></tr>
<tr class="memdesc:af2891954ff504c12ec6d5f845e906f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Neighbour rank number for each direction in Cartesian topology.  <a href="#af2891954ff504c12ec6d5f845e906f28">More...</a><br /></td></tr>
<tr class="separator:af2891954ff504c12ec6d5f845e906f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7268347fcab916adc61bee47e9f626"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a5a7268347fcab916adc61bee47e9f626">neighbour_coords</a> [<a class="el" href="definitions_8h.html#a31d5945080ee5c34edc32e6f74c724c8">L_DIMS</a>][<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td></tr>
<tr class="memdesc:a5a7268347fcab916adc61bee47e9f626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinates in MPI topology of neighbour ranks.  <a href="#a5a7268347fcab916adc61bee47e9f626">More...</a><br /></td></tr>
<tr class="separator:a5a7268347fcab916adc61bee47e9f626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0926101699de914f6be018885bea25b1"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a0926101699de914f6be018885bea25b1">subGrid_comm</a> [<a class="el" href="definitions_8h.html#a2ce7c3facc5f789b0e201757516539a5">L_NUM_LEVELS</a> *<a class="el" href="definitions_8h.html#a3efeae83589481193d81da498e7f746a">L_NUM_REGIONS</a>]</td></tr>
<tr class="memdesc:a0926101699de914f6be018885bea25b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicators for sub-grid / region combinations.  <a href="#a0926101699de914f6be018885bea25b1">More...</a><br /></td></tr>
<tr class="separator:a0926101699de914f6be018885bea25b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03972530e718d5b0a7f119e9c6132179"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_mpi_manager_1_1phdf5__struct.html">phdf5_struct</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a03972530e718d5b0a7f119e9c6132179">p_data</a></td></tr>
<tr class="memdesc:a03972530e718d5b0a7f119e9c6132179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of structures containing halo descriptors for block writing (HDF5)  <a href="#a03972530e718d5b0a7f119e9c6132179">More...</a><br /></td></tr>
<tr class="separator:a03972530e718d5b0a7f119e9c6132179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41fb382e17680a49821077167bf1905"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ae41fb382e17680a49821077167bf1905">global_dims</a> [3]</td></tr>
<tr class="memdesc:ae41fb382e17680a49821077167bf1905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global dimensions of problem coarse lattice.  <a href="#ae41fb382e17680a49821077167bf1905">More...</a><br /></td></tr>
<tr class="separator:ae41fb382e17680a49821077167bf1905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a918a4cd19e644ff3295b2854fc6af"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ad4a918a4cd19e644ff3295b2854fc6af">local_size</a></td></tr>
<tr class="memdesc:ad4a918a4cd19e644ff3295b2854fc6af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dimensions of coarse lattice represented on this rank (includes inner and outer halos).  <a href="#ad4a918a4cd19e644ff3295b2854fc6af">More...</a><br /></td></tr>
<tr class="separator:ad4a918a4cd19e644ff3295b2854fc6af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f994471f9c2986b2c8606b7b716566a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a0f994471f9c2986b2c8606b7b716566a">global_edge_ind</a></td></tr>
<tr class="memdesc:a0f994471f9c2986b2c8606b7b716566a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global indices of coarse lattice nodes represented on this rank.  <a href="#a0f994471f9c2986b2c8606b7b716566a">More...</a><br /></td></tr>
<tr class="separator:a0f994471f9c2986b2c8606b7b716566a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8c87e0a21d31b59d7cc1f7f146d5f4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#abd8c87e0a21d31b59d7cc1f7f146d5f4">global_edge_pos</a></td></tr>
<tr class="memdesc:abd8c87e0a21d31b59d7cc1f7f146d5f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global positions of coarse lattice nodes represented on this rank.  <a href="#abd8c87e0a21d31b59d7cc1f7f146d5f4">More...</a><br /></td></tr>
<tr class="separator:abd8c87e0a21d31b59d7cc1f7f146d5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb9f8f024ec0a186374995fb203ea1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_mpi_manager_1_1layer__edges.html">layer_edges</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a0cb9f8f024ec0a186374995fb203ea1e">sender_layer_pos</a></td></tr>
<tr class="memdesc:a0cb9f8f024ec0a186374995fb203ea1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing sender layer edge positions.  <a href="#a0cb9f8f024ec0a186374995fb203ea1e">More...</a><br /></td></tr>
<tr class="separator:a0cb9f8f024ec0a186374995fb203ea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ff57a97ec56efc1690dd3a5a52fd64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_mpi_manager_1_1layer__edges.html">layer_edges</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ad1ff57a97ec56efc1690dd3a5a52fd64">recv_layer_pos</a></td></tr>
<tr class="memdesc:ad1ff57a97ec56efc1690dd3a5a52fd64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing receiver layer edge positions.  <a href="#ad1ff57a97ec56efc1690dd3a5a52fd64">More...</a><br /></td></tr>
<tr class="separator:ad1ff57a97ec56efc1690dd3a5a52fd64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbb74832f69a915927b9bf252bd971d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#aafbb74832f69a915927b9bf252bd971d">f_buffer_send</a></td></tr>
<tr class="memdesc:aafbb74832f69a915927b9bf252bd971d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of resizeable outgoing buffers used for data transfer.  <a href="#aafbb74832f69a915927b9bf252bd971d">More...</a><br /></td></tr>
<tr class="separator:aafbb74832f69a915927b9bf252bd971d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f1eeab50fd4812b3a51af1a6c43713"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ab8f1eeab50fd4812b3a51af1a6c43713">f_buffer_recv</a></td></tr>
<tr class="memdesc:ab8f1eeab50fd4812b3a51af1a6c43713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of resizeable incoming buffers used for data transfer.  <a href="#ab8f1eeab50fd4812b3a51af1a6c43713">More...</a><br /></td></tr>
<tr class="separator:ab8f1eeab50fd4812b3a51af1a6c43713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257bc27e8099f1cbf5ac70b80d8eadaa"><td class="memItemLeft" align="right" valign="top">MPI_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a257bc27e8099f1cbf5ac70b80d8eadaa">recv_stat</a></td></tr>
<tr class="memdesc:a257bc27e8099f1cbf5ac70b80d8eadaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status structure for Receive return information.  <a href="#a257bc27e8099f1cbf5ac70b80d8eadaa">More...</a><br /></td></tr>
<tr class="separator:a257bc27e8099f1cbf5ac70b80d8eadaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ba6735840e949dff5cd63ab1695ff0"><td class="memItemLeft" align="right" valign="top">MPI_Request&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#ae4ba6735840e949dff5cd63ab1695ff0">send_requests</a> [<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td></tr>
<tr class="memdesc:ae4ba6735840e949dff5cd63ab1695ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of request structures for handles to posted ISends.  <a href="#ae4ba6735840e949dff5cd63ab1695ff0">More...</a><br /></td></tr>
<tr class="separator:ae4ba6735840e949dff5cd63ab1695ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccb49ceda719f0c6bb90593a880a730"><td class="memItemLeft" align="right" valign="top">MPI_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a3ccb49ceda719f0c6bb90593a880a730">send_stat</a> [<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td></tr>
<tr class="memdesc:a3ccb49ceda719f0c6bb90593a880a730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of statuses for each Isend.  <a href="#a3ccb49ceda719f0c6bb90593a880a730">More...</a><br /></td></tr>
<tr class="separator:a3ccb49ceda719f0c6bb90593a880a730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a91c2e8cfb15027a0681c198f82d257"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_mpi_manager_1_1buffer__struct.html">buffer_struct</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a3a91c2e8cfb15027a0681c198f82d257">buffer_send_info</a></td></tr>
<tr class="memdesc:a3a91c2e8cfb15027a0681c198f82d257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vectors of buffer_info structures holding sender layer size info.  <a href="#a3a91c2e8cfb15027a0681c198f82d257">More...</a><br /></td></tr>
<tr class="separator:a3a91c2e8cfb15027a0681c198f82d257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e769fa077d24d62d10a9a0d303009d1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_mpi_manager_1_1buffer__struct.html">buffer_struct</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a5e769fa077d24d62d10a9a0d303009d1">buffer_recv_info</a></td></tr>
<tr class="memdesc:a5e769fa077d24d62d10a9a0d303009d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vectors of buffer_info structures holding receiver layer size info.  <a href="#a5e769fa077d24d62d10a9a0d303009d1">More...</a><br /></td></tr>
<tr class="separator:a5e769fa077d24d62d10a9a0d303009d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2c3010f87e6a8a6c65e6f975e37fb7d5"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a2c3010f87e6a8a6c65e6f975e37fb7d5">MPI_cartlab</a> [3][26]</td></tr>
<tr class="memdesc:a2c3010f87e6a8a6c65e6f975e37fb7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cartesian unit vectors pointing to each neighbour in Cartesian topology.  <a href="#a2c3010f87e6a8a6c65e6f975e37fb7d5">More...</a><br /></td></tr>
<tr class="separator:a2c3010f87e6a8a6c65e6f975e37fb7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8329212abc23e5fa3e32e961b7823b5b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a8329212abc23e5fa3e32e961b7823b5b">my_rank</a></td></tr>
<tr class="memdesc:a8329212abc23e5fa3e32e961b7823b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rank number.  <a href="#a8329212abc23e5fa3e32e961b7823b5b">More...</a><br /></td></tr>
<tr class="separator:a8329212abc23e5fa3e32e961b7823b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5156a5e4519f43230b6b84792464e48"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#af5156a5e4519f43230b6b84792464e48">num_ranks</a></td></tr>
<tr class="memdesc:af5156a5e4519f43230b6b84792464e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of ranks in MPI Cartesian topology.  <a href="#af5156a5e4519f43230b6b84792464e48">More...</a><br /></td></tr>
<tr class="separator:af5156a5e4519f43230b6b84792464e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdcb17ecd44bb096bec1e79fe856bac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#acfdcb17ecd44bb096bec1e79fe856bac">MPI_coords</a> [<a class="el" href="definitions_8h.html#a31d5945080ee5c34edc32e6f74c724c8">L_DIMS</a>]</td></tr>
<tr class="memdesc:acfdcb17ecd44bb096bec1e79fe856bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinates in MPI Cartesian topolgy.  <a href="#acfdcb17ecd44bb096bec1e79fe856bac">More...</a><br /></td></tr>
<tr class="separator:acfdcb17ecd44bb096bec1e79fe856bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1520da6b8a663cba25a1a9822dd81543"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_grid_obj.html">GridObj</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#a1520da6b8a663cba25a1a9822dd81543">Grids</a></td></tr>
<tr class="memdesc:a1520da6b8a663cba25a1a9822dd81543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to grid hierarchy.  <a href="#a1520da6b8a663cba25a1a9822dd81543">More...</a><br /></td></tr>
<tr class="separator:a1520da6b8a663cba25a1a9822dd81543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd3a2866235c1d4a32e6806318061fd"><td class="memItemLeft" align="right" valign="top">static std::ofstream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mpi_manager.html#afbd3a2866235c1d4a32e6806318061fd">logout</a></td></tr>
<tr class="memdesc:afbd3a2866235c1d4a32e6806318061fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logfile handle.  <a href="#afbd3a2866235c1d4a32e6806318061fd">More...</a><br /></td></tr>
<tr class="separator:afbd3a2866235c1d4a32e6806318061fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MPI Manager class. </p>
<p>Class to manage all MPI apsects of the code. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a03b7914615ccb6e7b8a285f50860d503"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::destroyInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instance destroyer. </p>

</div>
</div>
<a class="anchor" id="a486e424ae1b9dfa3218d260b0f9a0a2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_mpi_manager.html">MpiManager</a> * MpiManager::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instance creator. </p>

</div>
</div>
<a class="anchor" id="ae1b33a4a24d9abf528528a296aa1d92d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_buffer_pack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_grid_obj.html">GridObj</a> *&#160;</td>
          <td class="paramname"><em>g</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to pack the communication buffer. </p>
<p>Communication buffer is packed with distribution values from the supplied grid. Amount of information is dictated by the direction of the communication being prepared.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>communication direction. </td></tr>
    <tr><td class="paramname">g</td><td>grid doing the communication. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1bf713399e26a5ffbc03147e0a20c585"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_buffer_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pre-calcualtion of the buffer sizes. </p>
<p>Wrapper method for computing the buffer sizes for every grid on the rank, both sender and receiver. Must be called post-initialisation. </p>

</div>
</div>
<a class="anchor" id="afa7547c05583bf6c52ea48cc1dc13336"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_buffer_size_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_grid_obj.html">GridObj</a> *&amp;&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to pre-compute the size of the receiver layer buffer. </p>
<p>A halo consists of a receiver (outer) and sender (inner) layer. This method computes the size of the receiver layers in each communication direction (MPI directions).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>grid being inspected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af26d2a0a2430f7c1b5def5f954a10f1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_buffer_size_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_grid_obj.html">GridObj</a> *&amp;&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to pre-compute the size of the sender layer buffer. </p>
<p>A halo consists of a receiver (outer) and sender (inner) layer. This method computes the size of the sender layers in each communication direction (MPI directions).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>grid being inspected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf5e0511918b4ae6ec524d737618e341"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_buffer_unpack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_grid_obj.html">GridObj</a> *&#160;</td>
          <td class="paramname"><em>g</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to unpack the communication buffer. </p>
<p>Communication buffer is unpacked onto the supplied grid. Amount and region of unpacking is dictated by the direction of the communication taking place.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>communication direction. </td></tr>
    <tr><td class="paramname">g</td><td>grid doing the communication. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a749fa958cb7343183a69ca6191b45286"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::mpi_buildCommunicators </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define writable sub-grid communicators. </p>
<p>When using HDF5 in parallel, collective IO operations require all processes to write a non-zero amount of data to the same file. This method examines availability of sub-grid and writable data on the grid (if found) and ensures it is added to a new communicator. Must be called AFTER the grids and buffers have been initialised. </p>

</div>
</div>
<a class="anchor" id="aedcf84c06fc3e0486fac61d09ce0a268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_communicate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communication routine. </p>
<p>This method implements the communication between grids of the same level and region across MPI processes. Each call effects communication in all valid directions for the grid of the supplied level and region.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lev</td><td>level of grid to communicate. </td></tr>
    <tr><td class="paramname">reg</td><td>region number of grid to communicate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c10ab477c2e4387d6a02104f9b2a2ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::mpi_getOpposite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to find opposite direction in MPI topology. </p>
<p>The MPI directional vectors do not necessarily correspond to the lattice model direction. The MPI directional vectors are defined separately and hence there is a separate opposite finding method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direction</td><td>the outgoing direction whose opposite you wish to find. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f07e85131147b55eec643c791ec2ba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_gridbuild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Domain decomposition. </p>
<p>Method to decompose the domain and identify local grid sizes. Parameters defined here are used in <a class="el" href="class_grid_obj.html" title="Grid class. ">GridObj</a> construction. </p>

</div>
</div>
<a class="anchor" id="a02adaa06e139dfca2bc71e1a1dbf25c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation routine. </p>
<p>Method is responsible for initialising the MPI topolgy and associated data. Must be called immediately after MPI_init(). </p>

</div>
</div>
<a class="anchor" id="ab498bdf0822e2747f83c187d682dd934"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MpiManager::mpi_writeout_buf </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer ASCII writer. </p>
<p>When verbose MPI logging is turned on this method will write out the communication buffer to an ASCII file. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5e769fa077d24d62d10a9a0d303009d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_mpi_manager_1_1buffer__struct.html">buffer_struct</a>&gt; MpiManager::buffer_recv_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vectors of buffer_info structures holding receiver layer size info. </p>

</div>
</div>
<a class="anchor" id="a3a91c2e8cfb15027a0681c198f82d257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_mpi_manager_1_1buffer__struct.html">buffer_struct</a>&gt; MpiManager::buffer_send_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vectors of buffer_info structures holding sender layer size info. </p>

</div>
</div>
<a class="anchor" id="ab8f1eeab50fd4812b3a51af1a6c43713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;double&gt; &gt; MpiManager::f_buffer_recv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array of resizeable incoming buffers used for data transfer. </p>

</div>
</div>
<a class="anchor" id="aafbb74832f69a915927b9bf252bd971d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;double&gt; &gt; MpiManager::f_buffer_send</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array of resizeable outgoing buffers used for data transfer. </p>

</div>
</div>
<a class="anchor" id="ae41fb382e17680a49821077167bf1905"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::global_dims[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global dimensions of problem coarse lattice. </p>

</div>
</div>
<a class="anchor" id="a0f994471f9c2986b2c8606b7b716566a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;int&gt; &gt; MpiManager::global_edge_ind</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global indices of coarse lattice nodes represented on this rank. </p>
<p>Excludes outer overlapping layer. Rows are x,y,z start and end pairs and columns are rank number. </p>

</div>
</div>
<a class="anchor" id="abd8c87e0a21d31b59d7cc1f7f146d5f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;double&gt; &gt; MpiManager::global_edge_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global positions of coarse lattice nodes represented on this rank. </p>
<p>Excluding outer overlapping layer. Rows are x,y,z start and end pairs and columns are rank number. </p>

</div>
</div>
<a class="anchor" id="a1520da6b8a663cba25a1a9822dd81543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_grid_obj.html">GridObj</a> * MpiManager::Grids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to grid hierarchy. </p>

</div>
</div>
<a class="anchor" id="ad4a918a4cd19e644ff3295b2854fc6af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; MpiManager::local_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dimensions of coarse lattice represented on this rank (includes inner and outer halos). </p>

</div>
</div>
<a class="anchor" id="afbd3a2866235c1d4a32e6806318061fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ofstream * MpiManager::logout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logfile handle. </p>

</div>
</div>
<a class="anchor" id="a2c3010f87e6a8a6c65e6f975e37fb7d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int MpiManager::MPI_cartlab</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    {</div><div class="line">        {1, -1,  1, -1,  0,  0, -1,  1,     0,  0,      1, -1,  1, -1,  0,  0, -1,  1, -1,  1, -1,  1,  0,  0,  1, -1},</div><div class="line">        {0,  0,  1, -1,  1, -1,  1, -1,     0,  0,      0,  0,  1, -1,  1, -1,  1, -1,  0,  0, -1,  1, -1,  1, -1,  1},</div><div class="line">        {0,  0,  0,  0,  0,  0,  0,  0,     1, -1,      1, -1,  1, -1,  1, -1,  1, -1,  1, -1,  1, -1,  1, -1,  1, -1}</div><div class="line">    }</div></div><!-- fragment -->
<p>Cartesian unit vectors pointing to each neighbour in Cartesian topology. </p>
<p>Define 3D such that first 8 mimic the 2D ones. Opposites are simply the next or previous column in the array. </p>

</div>
</div>
<a class="anchor" id="acfdcb17ecd44bb096bec1e79fe856bac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::MPI_coords</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coordinates in MPI Cartesian topolgy. </p>

</div>
</div>
<a class="anchor" id="a3f1f0a2aa10fbd01c0dc3fac50178a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::MPI_dims[<a class="el" href="definitions_8h.html#a31d5945080ee5c34edc32e6f74c724c8">L_DIMS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of MPI Cartesian topology. </p>

</div>
</div>
<a class="anchor" id="a8329212abc23e5fa3e32e961b7823b5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::my_rank</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rank number. </p>

</div>
</div>
<a class="anchor" id="a5a7268347fcab916adc61bee47e9f626"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::neighbour_coords[<a class="el" href="definitions_8h.html#a31d5945080ee5c34edc32e6f74c724c8">L_DIMS</a>][<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coordinates in MPI topology of neighbour ranks. </p>

</div>
</div>
<a class="anchor" id="af2891954ff504c12ec6d5f845e906f28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::neighbour_rank[<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Neighbour rank number for each direction in Cartesian topology. </p>

</div>
</div>
<a class="anchor" id="af5156a5e4519f43230b6b84792464e48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MpiManager::num_ranks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of ranks in MPI Cartesian topology. </p>

</div>
</div>
<a class="anchor" id="a03972530e718d5b0a7f119e9c6132179"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_mpi_manager_1_1phdf5__struct.html">phdf5_struct</a>&gt; MpiManager::p_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vector of structures containing halo descriptors for block writing (HDF5) </p>

</div>
</div>
<a class="anchor" id="ad1ff57a97ec56efc1690dd3a5a52fd64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_mpi_manager_1_1layer__edges.html">layer_edges</a> MpiManager::recv_layer_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure containing receiver layer edge positions. </p>

</div>
</div>
<a class="anchor" id="a257bc27e8099f1cbf5ac70b80d8eadaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Status MpiManager::recv_stat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status structure for Receive return information. </p>

</div>
</div>
<a class="anchor" id="ae4ba6735840e949dff5cd63ab1695ff0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request MpiManager::send_requests[<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array of request structures for handles to posted ISends. </p>

</div>
</div>
<a class="anchor" id="a3ccb49ceda719f0c6bb90593a880a730"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Status MpiManager::send_stat[<a class="el" href="definitions_8h.html#a144328eed4e90ebcf8a9f66aa7337266">L_MPI_DIRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array of statuses for each Isend. </p>

</div>
</div>
<a class="anchor" id="a0cb9f8f024ec0a186374995fb203ea1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_mpi_manager_1_1layer__edges.html">layer_edges</a> MpiManager::sender_layer_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure containing sender layer edge positions. </p>

</div>
</div>
<a class="anchor" id="a0926101699de914f6be018885bea25b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm MpiManager::subGrid_comm[<a class="el" href="definitions_8h.html#a2ce7c3facc5f789b0e201757516539a5">L_NUM_LEVELS</a> *<a class="el" href="definitions_8h.html#a3efeae83589481193d81da498e7f746a">L_NUM_REGIONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicators for sub-grid / region combinations. </p>

</div>
</div>
<a class="anchor" id="aec1ed834d1a8fa19f87499fb0d5cd332"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm MpiManager::world_comm</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global MPI communicator. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_mpi_manager_8h_source.html">MpiManager.h</a></li>
<li><a class="el" href="_grid_obj_8cpp.html">GridObj.cpp</a></li>
<li><a class="el" href="main__lbm_8cpp.html">main_lbm.cpp</a></li>
<li><a class="el" href="_mpi__buffer__pack_8cpp.html">Mpi_buffer_pack.cpp</a></li>
<li><a class="el" href="_mpi__buffer__size__recv_8cpp.html">Mpi_buffer_size_recv.cpp</a></li>
<li><a class="el" href="_mpi__buffer__size__send_8cpp.html">Mpi_buffer_size_send.cpp</a></li>
<li><a class="el" href="_mpi__buffer__unpk_8cpp.html">Mpi_buffer_unpk.cpp</a></li>
<li><a class="el" href="_mpi_manager_8cpp.html">MpiManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
